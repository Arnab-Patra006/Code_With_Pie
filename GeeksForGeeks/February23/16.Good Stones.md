# <a href="https://practice.geeksforgeeks.org/problems/e2d156755ca4e0a9b9abf5680191d4b06e52b1a8/1">Good Stones</a>

## Approach 1 : Recursion | DP

```
class Solution{
public:
vector<int>visited;
vector<bool>valid;

    bool is_valid(int idx,vector<int>&arr,int n)
    {
        int index=idx+arr[idx];
        visited[idx]=1;
        
        if(index<0)
        {
            valid[idx]=true;
            return true;
        }
        else if(index>n-1)
        {
            valid[idx]=true;
            return true;
        }
        else if(arr[idx]==0)
        {
            valid[idx]=false;
            return false;
        }
        else
        {
            if(visited[index]!=-1)
            {
                valid[idx]=valid[index];
                return valid[idx]==1;
            }
            else
            {
                valid[idx]=is_valid(index,arr,n);
            }
        }
        return valid[idx]==true;
    }
    int goodStones(int n,vector<int> &arr){
        visited=vector<int>(n,-1);
        valid=vector<bool>(n,false);
        int cnt=0;
        for(int i=n-1;i>=0;i--)
        {
            if(arr[i]==0)
            {
                visited[i]=1;
                valid[i]=false;
                continue;
            }
            if(visited[i]==-1)
            {
                if(is_valid(i,arr,n))
                {
                    cnt++;
                    valid[i]=true;
                }
                else
                {
                    valid[i]=false;
                }
            }
            else
            {
                if(valid[i]==true)
                {
                    cnt++;
                }
            }
        }
        return cnt;
    }  
};
```